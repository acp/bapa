let daftarPengikut = [{
  'nomorUrut': 1,
  'pembaca': 'Mercy Sihombing - Jakarta',
  'apakahSudahMembaca': '✅'
},
{
  'nomorUrut': 2,
  'pembaca': 'Christie Kirana - Jakarta',
  'apakahSudahMembaca': '✅'
},
{
  'nomorUrut': 3,
  'pembaca': 'drepram - Jakarta',
  'apakahSudahMembaca': '✅'
},
{
  'nomorUrut': 4,
  'pembaca': 'Kanti - Tangerang',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 5,
  'pembaca': 'Ronny Wisnhu - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 6,
  'pembaca': 'Siu Shia - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 7,
  'pembaca': 'Ria Pendjol - Emmen',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 8,
  'pembaca': 'Irina Pendjol - Bekasi',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 9,
  'pembaca': 'Magdalena Y - Palangkaraya',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 10,
  'pembaca': 'Lidya Eng - Villa Mutiara Lido',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 11,
  'pembaca': 'Ming Kolasa - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 12,
  'pembaca': 'Martha Tan - Banjarnegara',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 13,
  'pembaca': 'Maria Sie - Sidoarjo',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 14,
  'pembaca': 'Jenny Tambunan - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 15,
  'pembaca': 'Lisana Halim - Kediri',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 16,
  'pembaca': 'Yohan - Mojokerto',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 17,
  'pembaca': 'Lili Diana - Bandung',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 18,
  'pembaca': 'Angel Ginelly - Greenpark',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 19,
  'pembaca': 'Lorentz Marpaung - Balikpapan',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 20,
  'pembaca': 'Louise - Bandung',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 21,
  'pembaca': 'Lasta - Bekasi',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 22,
  'pembaca': 'Regina - Bekasi',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 23,
  'pembaca': 'Irene Sirait - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 24,
  'pembaca': 'Cindra - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 25,
  'pembaca': 'Lily Mutiara - Gombong',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 26,
  'pembaca': 'Lila - Martapura',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 27,
  'pembaca': 'Hermanto R - Tangerang',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 28,
  'pembaca': 'Raymond - Ambon',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 29,
  'pembaca': 'Yasama Halawa - Bangka',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 30,
  'pembaca': 'Dame - Binjai',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 31,
  'pembaca': 'Yunita Suyanto - Banjarnegara',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 32,
  'pembaca': 'Rusmida - Sumatera Utara',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 33,
  'pembaca': 'Miming - Gombong',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 34,
  'pembaca': 'Livia - Palembang',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 35,
  'pembaca': 'Atik - Gombong',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 36,
  'pembaca': 'Bukit - Lido',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 37,
  'pembaca': 'Sandra Ticoalu - Manado',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 38,
  'pembaca': 'Jenny - Yogyakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 39,
  'pembaca': 'Elisabeth Eliviana Andrians - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 40,
  'pembaca': 'Sahadi Widjaja - Banten',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 41,
  'pembaca': 'Dewi - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 42,
  'pembaca': 'Anik - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 43,
  'pembaca': 'Nessy Napitupulu - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 44,
  'pembaca': 'Irene F Mongkar - Tangerang',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 45,
  'pembaca': 'Wilken Paskalis - Jakarta Utara',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 46,
  'pembaca': 'Olyvia - Yogyakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 47,
  'pembaca': 'Rusmia - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 48,
  'pembaca': 'Elisha - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 49,
  'pembaca': 'Dedi L. Sihite - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 50,
  'pembaca': 'Eveline - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 51,
  'pembaca': 'Akoe Tonsi (Tonny) - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 52,
  'pembaca': 'Ester K - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 53,
  'pembaca': 'Debora Kiem - Mojokerto',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 54,
  'pembaca': 'Lucy P.M. - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 55,
  'pembaca': 'Ardiyanto - Jakarta',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 56,
  'pembaca': 'Ellen Jacobs - Ambon',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 57,
  'pembaca': 'Esther Hastuti - Solo',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 58,
  'pembaca': 'Elizur Telaumbanua - Sampit',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 59,
  'pembaca': 'Febby Kekado - Jonggol',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 60,
  'pembaca': 'Evi Silalahi - Depok',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 61,
  'pembaca': 'Natalicia - Lido Bogor',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 62,
  'pembaca': 'Yusak Siswanto - Tangerang',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 63,
  'pembaca': 'Rosdina Sipayung - Bekasi',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 64,
  'pembaca': 'Indriana - Gombong',
  'apakahSudahMembaca': ''
},
{
  'nomorUrut': 65,
  'pembaca': 'Jeanne Gunawan - Tangerang',
  'apakahSudahMembaca': ''
}
]

function pelaksanaanPenyortiran () {
  let pelaporHariIni = document.getElementById('daftarPembaca').value.split(',')

  tandaiPembaca(pelaporHariIni)
  hasilkanParagrafRekap()
}

function tandaiPembaca (nomorNomorUrut, tandaPembacaan = '✅') {
  for (var i = 0; i < nomorNomorUrut.length; i++) {
    cariProfilPelapor(nomorNomorUrut[i], tandaPembacaan) // Memutasikan properti apakahSudahMembacas dengan tanda ✅
  }
}

function cariProfilPelapor (nomorUrut, tandaPembacaan) {
  for (var i = 0; i < daftarPengikut.length; i++) {
    if (daftarPengikut[i].nomorUrut == nomorUrut) {
      daftarPengikut[i].apakahSudahMembaca = tandaPembacaan
    }
  }
}

function hasilkanParagrafRekap () {
  let middleString = ''
  let ayat = document.getElementById('ayat').value
  let waktu = document.getElementById('waktu').value
  let tanggal = document.getElementById('tanggal').value
  let besok = document.getElementById('besok').value
  let status = document.getElementById('status').value

  for (var i = 0; i < daftarPengikut.length; i++) {
    middleString += `${daftarPengikut[i].nomorUrut}. ${daftarPengikut[i].pembaca} ${daftarPengikut[i].apakahSudahMembaca}\n`
  }

  let rekapStr = `"""REKAP ${status}"""

⏰: ${waktu} WIB

🗓: ${tanggal}
📖: ✅ ${ayat}

*Gerakan BAPA cq BATYK Putaran Ke-4*
*Baca Alkitab (bersama) Tuhan Yesus Kristus*

Sobat BAPA yang sudah membaca 5 pasal hari ini: 

${middleString}
*Pasal yang BESOK akan kita baca:*
📖 *${besok}*

Cara melapor pembacaan: 
Nomor absen
Nama (nama depan dan nama keluarga, bila ada)
Kota (domisili, tempat tinggal)
Pasal yang dibaca (lengkapi tanda centang ✅)

Contoh:
2. Christie, Jakarta, Matius 1-5 ✅

Setelah membaca Firman Tuhan, biasakan berdoa, mengucap syukur dan memohon perlindungan Tuhan untuk
1. Bangsa dan NKRI
2. Keluarga dan orang terkasih kita
3. Kota tempat kita tinggal

NOTE:
Tolong diperiksa.
Bagi rekan yang belum diabsen, kami tunggu laporan  pembacaannya ya.

Terima kasih bagi Sobat-Sobat yang terus semangat dalam gerakan moral ini.

Tuhan memberkati😇`

  document.getElementById('result').innerHTML = rekapStr
}

function regexKalimat () {
  let kalimat = document.getElementById('kalimat').value
  let setiapKalimat = kalimat.split(': ')
  let regex = /^\d+/
  let kalimatKalimat = []
  let pembacaHariIni = []

  setiapKalimat.forEach(element => {
    kalimatKalimat.push(element)
  })

  kalimatKalimat.shift()

  kalimatKalimat.forEach(element => {
    let string = element.toString().split('\n')
    let res = string[0].match(regex)
    if (res === null) {
      console.log(string)
      if (string.length > 2) {
        if (string[1].split('.')[0] == 46) {
          pembacaHariIni.push(parseInt(string[1].split('.')[0]))
        }
        if (string[1].split('.')[0] == 42) {
          pembacaHariIni.push(parseInt(string[1].split('.')[0]))
        }
      }
      return false
    } else {
      switch (res) {
        case '01':
          res[0] = parseInt('1')
          pembacaHariIni.push(res[0])
          break
        case '02':
          res[0] = parseInt('2')
          pembacaHariIni.push(res[0])
          break
        case '03':
          res[0] = parseInt('3')
          pembacaHariIni.push(res[0])
          break
        case '04':
          res[0] = parseInt('4')
          pembacaHariIni.push(res[0])
          break
        case '05':
          res[0] = parseInt('5')
          pembacaHariIni.push(res[0])
          break
        case '06':
          res[0] = parseInt('6')
          pembacaHariIni.push(res[0])
          break
        case '07':
          res[0] = parseInt('7')
          pembacaHariIni.push(res[0])
          break
        case '08':
          res[0] = parseInt('8')
          pembacaHariIni.push(res[0])
          break
        case '09':
          res[0] = parseInt('9')
          pembacaHariIni.push(res[0])
          break
        default:
          res[0] = parseInt(res[0])
          pembacaHariIni.push(res[0])
      }
    }
  })

  document.getElementById('daftarPembaca').value = pembacaHariIni
  document.getElementById('pelapor').innerHTML = `Banyak Pelapor Hari Ini - ${pembacaHariIni.length}`

  dapatkanWaktu()
}

function dapatkanWaktu () {
  let waktu = new Date()
  let hariHari = new Array(7)
  let bulanBulan = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember']
  let jamDanMenit = waktu.toString().split(' ')[4].split(':')

  jamDanMenit.pop() // Remove last index

  jamDanMenit = jamDanMenit.reverse().join(':')

  hariHari[0] = 'Minggu'
  hariHari[1] = 'Senin'
  hariHari[2] = 'Selasa'
  hariHari[3] = 'Rabu'
  hariHari[4] = 'Kamis'
  hariHari[5] = 'Jumat'
  hariHari[6] = 'Sabtu'

  let hari = hariHari[waktu.getDay()] // Mengambil satu hari dari hari-hari
  let tanggal = String(waktu.getDate())
  let bulan = bulanBulan[waktu.getMonth()] // Mengambil satu bulan dari bulan-bulan
  let tahun = waktu.getFullYear()

  document.getElementById('tanggal').value = `${hari}, ${tanggal} ${bulan} ${tahun}`
  document.getElementById('waktu').value = `${jamDanMenit}`
}
